# Generated by Django 5.0.2 on 2024-02-21 17:18

from django.db import migrations
from django.contrib.auth.hashers import make_password



def dummy_dater1(User, Dater):
    user = User(
        username = 'dater1',
        password = make_password('password'),
        email = 'bob@cupid_code.com',
        first_name = 'Bob',
        last_name = 'The Builder',
    )
    user.save()

    dater1 = Dater(
        user = user,
        phone_number = '1234567890',
        budget = 50,
        communication_preference = 0,
        description = 'I like to build things in my spare time.',
        dating_strengths = 'Building things is cool',
        dating_weaknesses = 'Not everyone likes to talk about building things all the time.',
        interests = 'Carpentry',
        past = "I've never dated in my whole life.",
        nerd_type = 'building',
        relationship_goals = 'Find the one',
        ai_degree = 'I need all the help',
        cupid_cash_balance = 200,
        location = 'Logan, UT',
        average_rating = 4.3,
        suspended = False,
    )

    #This portion should happen automatically, outside of migrations
    dater1.user.role = "Dater"
    dater1.user.save()

    dater1.save()

def dummy_dater2(User, Dater):
    user = User(
        username = 'dater2',
        password = make_password('password'),
        email = 'Manny@cupid_code.com',
        first_name = 'Handy',
        last_name = 'Manny',
    )
    user.save()

    dater2 = Dater(
        user = user,
        phone_number = '1223334444',
        budget = 50,
        communication_preference = 0,
        description = 'I fix things for people around town',
        dating_strengths = 'Helping people is cool',
        dating_weaknesses = 'I do not know how to do it',
        interests = 'Tools',
        past = "I have been on many dates and in a few relationships. They all ended poorly.",
        nerd_type = 'building',
        relationship_goals = 'Find a girlfriend and see how it goes',
        ai_degree = "I don't need your help",
        cupid_cash_balance = 20,
        location = 'Logan, UT',
        average_rating = 3.3,
        suspended = False,
    )

    #This portion should happen automatically, outside of migrations
    dater2.user.role = "Dater"
    dater2.user.save()

    dater2.save()

def dummy_cupid1(User, Cupid):
    # username:cupid1, password:password, 54 completed gigs, 11 failed
    user = User(
        username = 'cupid1',
        password = make_password('password'),
        email = 'joe@mail.com',
        first_name = 'Joe',
        last_name = 'Brown',
    )
    user.save()

    cupid1 = Cupid(
        user = user,
        accepting_gigs = True,
        gigs_completed = 54,
        gigs_failed = 11,
        payment = '1123124000 1999999501250',
        status = 2,
        cupid_cash_balance = 1100,
        location = 'Logan, UT',
        average_rating = 4.1
    )

    #This portion should happen automatically, but not in migrations
    cupid1.user.role = "Cupid"
    cupid1.user.save()

    cupid1.save()

def dummy_cupid2(User, Cupid):
    user = User(
        username = 'cupid2',
        password = make_password('password'),
        email = 'really@me.com',
        first_name = 'Cupid',
        last_name = 'Himself',
    )
    user.save()

    cupid2 = Cupid(
        user = user,
        accepting_gigs = False,
        gigs_completed = 4,
        gigs_failed = 16,
        payment = '1111000000 1240912501250',
        status = 0,
        cupid_cash_balance = 12,
        location = 'Logan, UT',
        average_rating = 1.2
    )

    #This portion should happen automatically, but not in migrations
    cupid2.user.role = "Cupid"
    cupid2.user.save()

    cupid2.save()

def dummy_daters(apps, schema_editor):
        User = apps.get_model('api', 'User')
        Dater = apps.get_model('api', 'Dater')
        dummy_dater1(User,Dater)
        dummy_dater2(User,Dater)

def dummy_cupids(apps, schema_editor):
        User = apps.get_model('api', 'User')
        Cupid = apps.get_model('api', 'Cupid')
        dummy_cupid1(User,Cupid)
        dummy_cupid2(User,Cupid)

def dummy_quests(apps, schema_editor):
    Quest = apps.get_model('api', 'Quest')
    quest = Quest(
        budget = 20,
        items_requested = 'flowers',
        pickup_location = 'outside'
    )
    quest.save()

class Migration(migrations.Migration):

    dependencies = [
        ('api', '0001_initial'),
    ]

    operations = [
        migrations.RunPython(dummy_daters),
        migrations.RunPython(dummy_cupids),
        migrations.RunPython(dummy_quests),
    ]
